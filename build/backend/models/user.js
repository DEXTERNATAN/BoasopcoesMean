"use strict";var mongoose=require("mongoose"),findOrCreate=require("mongoose-findorcreate"),bcrypt=require("bcrypt-nodejs"),userSchema=mongoose.Schema({fullname:{type:String},email:{type:String},password:{type:String},emailConfirm:Boolean,emailKey:String,facebookId:String,googleId:String,sessioncache:String});userSchema.methods.generateHash=function(password){return bcrypt.hashSync(password,bcrypt.genSaltSync(8),null)},userSchema.methods.validPassword=function(password){return bcrypt.compareSync(password,this.password)},userSchema.plugin(findOrCreate),mongoose.model("User",userSchema);
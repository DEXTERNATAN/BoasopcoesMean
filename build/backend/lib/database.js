"use strict";var path=require("path"),fs=require("fs"),config=JSON.parse(fs.readFileSync(path.join(__dirname,"../../config.json"),"utf8")),mongoose=require("mongoose"),db=function(env){mongoose.connect("mongodb://"+config[env].database.user+":"+config[env].database.password+"@"+config[env].database.host+":"+config[env].database.port+"/"+config[env].database.name);var connection=mongoose.connection;connection.on("error",console.error.bind(console,"MongoDB connection error ! ")),connection.once("open",function(){console.log("Connected to MongoDB.")})};module.exports=db;
"use strict";var fs=require("fs"),express=require("express"),app=require("./backend/app"),path=require("path"),logger=require("morgan"),config=JSON.parse(fs.readFileSync(path.join(__dirname,"./config.json"),"utf8"));"development"===app.get("env")?(app.use(logger("dev")),app.set("host",config.development.host),app.set("port",config.development.port),app.use(express["static"](path.join(__dirname,"../"))),app.use(express["static"](path.join(__dirname,"../.tmp"))),app.use(express["static"](path.join(__dirname,"./frontend"))),app.all("/*",function(req,res){res.sendFile(path.join(__dirname,"./frontend/index.html"))})):(app.set("host",config.production.host),app.set("port",config.production.port),app.use(express["static"](path.join(__dirname,"./frontend"))),app.all("/*",function(req,res){res.sendFile(path.join(__dirname,"./frontend/index.html"))})),app.listen(app.get("port"),app.get("host"),function(){console.log("Server in "+app.get("env")+" environment running at "+app.get("host")+":"+app.get("port"))});